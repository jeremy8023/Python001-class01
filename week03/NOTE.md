# 浅析进程与线程
## 一、进程
### 1.进程提出的背景
在多道程序运行环境下，程序的执行是并发（在一个程序执行I/O操作时，另一个程序占用CPU）。所以，程序将失去封闭性，并且具有了间断性，以及其运行结果的不可再现性，故而程序不能并发执行。
### 2.进程定义
进程是为了能够使程序并发执行，并且对并发执行的程序加以描述和控制的概念，从程序的角度来讲，进程是一个数据结构——进程控制块（PCB）。程序段、相关的数据段和PCB三部分组成了进程实体（相当于实例化一个进程），简称进程。
### 3.进程特征
1. 动态性。进程由创建产生，调度执行，由撤销而消亡。
2. 并发性。多个进程可同时存在于内存，且能在一段时间内同时运行。
3. 独立性。每一个进程实体，能独立运行、独立获得资源和独立接收调度（区别与线程）
4. 异步性。每个进程是异步运行的，它们各自独立、不可预知的速度执行（由os调度，程序员不可控）。引入进程同步机制后，保证了进程执行结果是可复现的。
### 4.进程的三种基本状态
1. 就绪状态（Ready）。进程已经获得除了CPU外的所有资源，只要再次获得CPU，就能运行
2. 执行状态（Running）。正在执行的进程
3. 阻塞状态（Block）。由于进程需要I/O操作无法继续执行时的状态。

## 二、线程
线程是一个比进程更小的、程序用来执行的基本单位。
### 1.线程提出的背景
多处理机系统迅速发展，多核处理器越来越多。同时，线程由于比进程更轻量级，可以更好的提升程序并发执行的程度，进一步改善系统性能。
在执行多进程任务时，系统必须进行一系列操作：创建进程、撤销进程、进程切换，在执行这些操作中，系统内必须付出大量的时空开销。
### 2.线程的定义
每一个线程必须和进程共享资源，但每一个线程可以是独立调度和分派的基本单位的。
### 3.线程和进程的比较
1. 调度的基本单位。都可以作为独立调度单位。但线程切换时，仅需要保存和设置少量的寄存器内容，切换代价远低于进程。
2. 都具有并发性。
3. 拥有资源。进程可以拥有资源，并作为拥有资源的基本单位。线程本身并不拥有系统资源，仅仅由一点儿必不可少的、保证独立运行的资源。多个线程共享该进程所有资源
4. 独立性。由于进程之间可以共享资源，所以进程独立性大于线程。
5. 系统开销。进程的创建、撤销和切换呢需要内核干预，而线程不需要。因此，线程系统开销<<进程
6. 支持多处理机系统。单线程进程中，不管由多少个处理机，该进程只能运行在一个处理机上；多线程进程，可以将不同的线程分配在不同处理机执行，加速进程的完成。


@计算机操作系统原理（第四版）——汤小丹